<app-header></app-header>

<div class="detail-container background-rollo" *ngIf="movie">
  <h2 class="titulos">{{ movie.title }}</h2>

  <div class="detail-content">
    <div class="poster-container">
      <img [src]="'https://image.tmdb.org/t/p/w500' + movie.poster_path" alt="Movie Poster">
    </div>

    <div class="movie-info">
      <p><strong>Fecha de estreno:</strong> {{ movie.release_date }}</p>
      <p><strong>Género:</strong> {{ genres }}</p>
      <p><strong>Duración:</strong> {{ movie.runtime }} minutos</p>
      <p><strong>Puntuación:</strong> ⭐ {{ movie.vote_average }} / 10</p>
      <p><strong>Idioma Original:</strong> {{ movie.original_language }}</p>
      <p><strong>Sinopsis:</strong> {{ movie.overview }}</p>

      <div style="margin-top: 1rem;">
        <button mat-raised-button color="primary" (click)="guardarEstado('VISTA')" [disabled]="estadoActual === 'VISTA' || guardando">
          Marcar como vista
        </button>
        <button mat-raised-button color="accent" (click)="guardarEstado('POR_VER')" [disabled]="estadoActual === 'POR_VER' || guardando">
          Marcar como pendiente
        </button>
      </div>

      <button (click)="goBack()" class="btn-volver" style="margin-top: 1rem;">Volver</button>
    </div>
  </div>
</div>
